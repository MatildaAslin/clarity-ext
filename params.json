{
  "name": "Clarity-ext",
  "tagline": "Extensions for Clarity",
  "body": "# clarity-ext\r\nNOTE: Work in progress (pre-alpha).\r\n\r\nProvides a library for extending Clarity LIMS in a more developer-friendly way.\r\n\r\n## Problem \r\nAny LIMS system needs to be scripted (extended), as any lab has its own workflows. One extension could\r\nbe to create a driver file for a robot when the user presses a button in a workflow step.\r\n\r\nThe Clarity LIMS server provides extensibility in the form of so called EPPs. These are basically\r\nshell commands that can be run on certain events in the system.\r\n\r\nTo develop and validate these steps, the developer would need to change the configuration entry for the\r\nscript in the LIMS and then run the script manually through the LIMS.\r\n\r\nThis method is cumbersome and doesn't provide an acceptable feedback loop for the developer.\r\n\r\n## Solution\r\nWith `clarity-ext`, the developer can instead:\r\n  * Set a step up as usual\r\n  * Write an extension that should run in this step\r\n  * Run (integration test) the extension from his development environment\r\n  * All requests/responses are cached, so the integration test will run fast. Furthermore, the test\r\n    can still be executed after the step has been deleted or altered. \r\n  * Extensions have access to extension contexts, which do most of the work. This way, the readability \r\n    and simplicity of the extensions increase, allowing non-developers to review and alter the code.\r\n\r\n## Components\r\n### Runner\r\nThe first component of the system is the `clarity-ext` command line tool. All extensions are run through this tool.\r\n\r\nFor example, we have an extension that generates an input file for a Fragment Analyzer.\r\nThe `Process Type`s  EPP is set up like this in that case:\r\n```\r\nclarity-ext extension --args 'pid={processLuid}' clarity_ext_scripts.fragment_analyzer.create_fa_input_file exec\r\n```\r\n\r\nHowever, when developing, developer runs this instead:\r\n```\r\nclarity-ext extension clarity_ext_scripts.fragment_analyzer.create_fa_input_file test\r\n```\r\n\r\nThese are the differences between the commands:\r\n  * The latter one uses a cache for requests/responses\r\n  * The first one needs to provide the pid as an argument, while the second uses the test data defined in the extension\r\n\r\nThe end result is that the user will get feedback directly in the IDE or terminal when running. It's faster because of\r\ncaching, but the tool will also output the file to stdout.\r\n\r\n### Extensions\r\nThe clarity_ext_scripts module includes extensions that have been implemented for the SNP&SEQ technology platform at\r\nUppsala University. Some might be directly applied in another lab, but they are generally there as samples only.\r\n\r\nThe developer creates an extension by subclassing one of the extension base classes and implementing or overriding\r\none or more method.\r\n\r\nCurrently, there are two extension base classes:\r\n  * `GeneralExtension`: The extensions's `execute` method will be run on execution\r\n  * `DriverFileExtension`: Provides methods that describe the file\r\n\r\nAll extensions have access to the `ExtensionContext`. This object provides a higher level view on the data available\r\nfrom the Clarity REST API. The extension can also import generic helper classes. All of the properties on this\r\nobject are generated lazily (on request), and an exception is thrown if they can't be used in the particular context\r\nfor some reason.\r\n\r\nAll extensions in the clarity_ext_scripts folder follow the design principle of leaving all non-trivial or boilerplate\r\ncode to the framework. The idea is that they can be understood by non-developers configuring or validating the system.\r\nFurthermore, the idea is that all new extensions are made only with this framework.\r\n\r\n### Helper modules\r\n* clarity_ext.domain: Provides classes that help with work directly related to labs, such as a Plate object that\r\n  can enumerate wells in different ways.\r\n* clarity_ext.pdf: Provides ways to work with pdf files in a high level way, such as splitting them\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}